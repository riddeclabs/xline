<!doctype html>
<html data-bs-theme='dark'>
  <head>
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <title>Back office</title>
    <link
      href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css'
      rel='stylesheet'
      integrity='sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD'
      crossorigin='anonymous'
    >
    <link
      rel='stylesheet'
      href='https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.4/font/bootstrap-icons.css'
    >
    <style>
      main {
        display: flex;
        flex-wrap: nowrap;
        height: 100vh;
        max-height: 100vh;
        overflow-x: auto;
        overflow-y: hidden;
      }
    </style>
  </head>

  <body>
    <main>
      <div
        class='d-flex flex-column flex-shrink-0 p-4 text-white bg-dark bg-gradient'
        style='width: 280px;'
      >
        <a
          href='/backoffice/dashboard'
          class='d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none'
        >
          <span class='fs-4'>Backoffice</span>
        </a>
        <hr>
        <ul class='nav nav-pills flex-column mb-auto'>
          <li class='nav-item'>
            <a
              href='/backoffice/dashboard'
              class='nav-link text-white {% if current_url == '/backoffice/dashboard'%}active{% endif %}'
              aria-current='page'
              ><i class='bi-house'></i>
              Dashboard
            </a>
          </li>
          {% if account.role == 'admin' %}
            <li>
              <a
                href='/backoffice/operators'
                class='nav-link text-white {% if current_url == '/backoffice/operators'%}active{% endif %}'
                ><i class='bi-key'></i>
                Operators
              </a>
            </li>
          {% endif %}
        </ul>
        <p class='font-weight-light font-monospace text-muted mb-0'>
          v{{ version }}
        </p>
        <p class='font-weight-light font-monospace text-muted mb-0'>
          revision: {{ revision }}
        </p>
        <hr>
        <div class='d-flex flex-row justify-content-between align-items-center'>
          <strong>{{ account.username }}</strong>
          <form class='d-flex' role='sign-out' method='post' action='./logout'>
            <button
              class='btn btn-outline-light'
              type='submit'
              name='action'
              value='sign-out'
            >
              Sign-out <i class='bi bi-box-arrow-right'></i>
            </button>
          </form>
        </div>
      </div>
      <div style='overflow-y: scroll;' class='container-fluid p-5'>
        {% block content %}My default content{% endblock %}
      </div>
    </main>

    <script
      src='https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js'
      crossorigin='anonymous'
    ></script>
    <script
      src='https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js'
      integrity='sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD'
      crossorigin='anonymous'
    ></script>
  </body>
</html>
