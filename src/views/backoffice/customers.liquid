{% layout 'backoffice/default-layout' %}
{% block content %}
  <h1 class='pb-5 text-white fs-1'>Customers</h1>
  <div class='card bg-dark shadow-sm'>
    <table class='table table-striped mb-0'>
      <thead>
        <tr>
          <th scope='col'>Chat ID</th>
          <th scope='col'>Customer name</th>
          <th scope='col'>Active lines</th>
          <th scope='col'>View</th>
        </tr>
      </thead>
      <tbody>
        <tr style='height:50px'>
          {% for customer in customers %}
            <td class='align-middle'>
              {{ customer.chatID }}
            </td>
            <td class='align-middle'>
              {{ customer.customerName }}
            </td>
            <td class='align-middle'>
              {{ customer.activeLines }}
            </td>
            <td class='align-middle'>
              <button>View</button>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
    <nav aria-label='Page navigation example' class='mt-3'>
      {% assign prev_page = page.current | minus: 1 %}
      {% assign next_page = page.current | plus: 1 %}

      <ul class='pagination justify-content-center'>
        <li class='page-item {% if page.current == 1 %}disabled{% endif %}'>
          <a class='page-link' href='?{{ query | mut-query: 'page', prev_page }}'>
            <i class='bi-arrow-left'></i>
          </a>
        </li>
        {% for p in page.pages %}
          <li class='page-item'>
            <a class='page-link {% if page.current == p %}active{%endif%}' href='{% if page.current == p or p == '...' %}?{{ query | mut-query }}{%else%}?{{ query | mut-query: 'page', p }}{%endif%}'>
              {{ p }}
            </a>
          </li>
        {% endfor %}
        <li class='page-item {% if page.current == page.totalPageCount %}disabled{% endif %}'>
          <a class='page-link' href='?{{ query | mut-query: 'page', next_page }}'>
            <i class='bi-arrow-right'></i>
          </a>
        </li>
      </ul>
    </nav>
  </div>
{% endblock %}